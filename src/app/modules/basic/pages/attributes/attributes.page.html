<page-container title="فیلدها" *ngIf="columnDefs">
  <prm-button
    label="افزودن"
    icon="fa fa-plus"
    color="success"
    (click)="addAttribute()"
  >
  </prm-button>
  <ag-table
    [rowData]="rowData$ | async"
    [columnDefs]="columnDefs"
    [actionsConfig]="[{
      headerName: 'افزودن مقدار اولیه',
      icon: 'fa fa-plus'
    }]"
    (actionClick)="onActionClick($event)"
    (cellValueChanged)="onCellValueChanged($event)"
  ></ag-table>
</page-container>

<p-dialog
  header="ویرایش مقادیر اولیه"
  [(visible)]="showAttributeValueDialog"
  [modal]="true"
  [draggable]="false"
  [blockScroll]="true"
  [style]="{width:'800px'}"
>
  <div [ngSwitch]="attributeType">
    <div *ngSwitchCase="'Text'">
      <prm-input-text [(ngModel)]="attributeValue"></prm-input-text>
    </div>
    <div *ngSwitchCase="'Text Area'">{{attributeValue}}</div>
    <div *ngSwitchCase="'Number'">{{attributeValue}}</div>
    <div *ngSwitchCase="'Date'">{{attributeValue}}</div>
    <div *ngSwitchCase="'Select'">{{attributeValue}}</div>
    <div *ngSwitchCase="'Multi Select'">{{attributeValue}}</div>
    <div *ngSwitchCase="'Checkbox'">{{attributeValue}}</div>
  </div>
  <p-footer>
    <prm-button
      (onClick)="submitAttributeValue()"
      label="ثبت"
      color="success"
    ></prm-button>
    <prm-button
      (click)="showAttributeValueDialog = false"
      label="انصراف"
      color="danger"
    ></prm-button>
  </p-footer>
</p-dialog>
